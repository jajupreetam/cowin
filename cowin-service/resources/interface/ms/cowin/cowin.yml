openapi: 3.0.2
info:
  title: Co-WIN Protected APIs
  description: Co-WIN APIs to register for vaccination, to book a vaccination appointment from partner applications. These APIs have restricted access. You can test these APIs on the Test Server using API Key -  <code>3sjOr2rmM52GzhpMHjDEE1kpQeRxwFDr4YcBEimi</code> Please contact Ministry of Health and Family Welfare, Government of India to get access to these APIs. [<i>Updated on 03 May 2021</i>]
  termsOfService: https://www.cowin.gov.in/terms-condition
  contact:
    name: Ministry of Health and Family Welfare
    url: https://www.cowin.gov.in
  version: 2.1.0
servers:
  - url: https://api.demo.co-vin.in/api
    description: Test Server
  - url: https://cdn-api.co-vin.in/api
    description: Production Server

paths:
  /v2/auth/generateOTP:
    post:
      tags:
        - Authentication APIs
      summary: Authenticate a beneficiary by Mobile/OTP
      description: Initiate beneficiary authentication using mobile and OTP
      operationId: generateOTP
      security:
        - ApiKey: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                mobile:
                  type: string
                  minItems: 1
                  example: "9876543210"

      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  txnId:
                    type: string
                    format: uuid
                    minItems: 1
                    example: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated access!
        '500':
          description: Internal Server Error

  /v2/auth/confirmOTP:
    post:
      tags:
        - Authentication APIs
      summary: Confirm mobile OTP for authentication
      description: API to confirm the OTP for authentication.
      operationId: confirmOTP
      security:
        - ApiKey: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                otp:
                  type: string
                  minLength: 64
                  example: "8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92"
                  description: SHA256 of the OTP
                txnId:
                  type: string
                  format: uuid
                  example: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                  isNewAccount:
                    type: string
                    description: Indicates whether the mobile number is already registered.
                    enum:
                      - "Y"
                      - "N"
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '500':
          description: Internal Server Error

  /v2/registration/beneficiary/idTypes:
    get:
      tags:
        - Metadata APIs
      summary: Get list of beneficiary Id types
      description: API to get list of beneficiary Ids that can be used as proof of identity for registration.
      operationId: idTypes
      parameters:
        - in: header
          name: Accept-Language
          required: false
          example: hi_IN
          schema:
            type: string
          description: The locate code of the preferred language such as en_US. The text data will be returned in the preferred language along with default English text.
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  types:
                    type: array
                    minItems: 1
                    uniqueItems: true
                    items:
                      type: object
                      required:
                        - type
                        - id
                      properties:
                        type:
                          type: string
                          minLength: 1
                          example: Driving License
                        type_l:
                          type: string
                          minLength: 1
                          example: ""
                          description: Type in preferred language as specified in Accept-Language header parameter.
                        id:
                          type: number
                          example: 2
                  ttl:
                    type: number
                    description: Time in hours to cache the data. Client applications can use this data for this many number of hours before calling this API again.
            examples: {}
        '401':
          description: Unauthenticated access!
        '500':
          description: Internal Server Error

  /v2/registration/beneficiary/genders:
    get:
      tags:
        - Metadata APIs
      summary: Get gender
      description: API to get all gender details.

      operationId: genders
      parameters:
        - in: header
          name: Accept-Language
          example: hi_IN
          required: false
          schema:
            type: string
          description: The locate code of the preferred language such as en_US. The text data will be returned in the preferred language along with default English text.
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  genders:
                    type: array
                    minItems: 1
                    uniqueItems: true
                    items:
                      type: object
                      properties:
                        gender:
                          type: string
                          minLength: 1
                          example: Male
                        gender_l:
                          type: string
                          minLength: 1
                          example: ""
                          description: Gender in preferred language as specified in Accept-Language header parameter.
                        id:
                          type: number
                          example: 1
                      required:
                        - gender
                        - id
                  ttl:
                    type: number
                    description: Time in hours to cache the data. Client applications can use this data for this many number of hours before calling this API again.
            examples: {}

        '401':
          description: Unauthenticated access!
        '500':
          description: Internal Server Error

  /v2/admin/location/states:
    get:
      tags:
        - Metadata APIs
      summary: Get states
      description: API to get all the states in India.

      operationId: states
      parameters:
        - in: header
          name: Accept-Language
          example: hi_IN
          required: false
          schema:
            type: string
          description: The locate code of the preferred language such as en_US. The text data will be returned in the preferred language along with default English text.
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  states:
                    type: array
                    minItems: 1
                    uniqueItems: true
                    items:
                      type: object
                      properties:
                        state_id:
                          type: number
                          example: 58
                        state_name:
                          type: string
                          minLength: 1
                          example: Andaman and Nicobar Islands
                        state_name_l:
                          type: string
                          minLength: 1
                          example: ""
                          description: State name in preferred language as specified in Accept-Language header parameter.
                      required:
                        - state_id
                        - state_name
                  ttl:
                    type: number
                    description: Time in hours to cache the data. Client applications can use this data for this many number of hours before calling this API again.
            examples: {}

        '401':
          description: Unauthenticated access!
        '500':
          description: Internal Server Error

  /v2/admin/location/districts/{state_id}:
    get:
      tags:
        - Metadata APIs
      summary: Get list of districts
      description: API to get all the districts.
      operationId: districts
      parameters:
        - in: header
          name: Accept-Language
          required: false
          example: hi_IN
          schema:
            type: string
          description: The locate code of the preferred language such as en_US. The text data will be returned in the preferred language along with default English text.
        - name: state_id
          in: path
          required: true
          schema:
            type: string
            example: 16
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  districts:
                    type: array
                    minItems: 1
                    uniqueItems: true
                    items:
                      type: object
                      properties:
                        state_id:
                          type: number
                          example: 16
                        district_id:
                          type: number
                          example: 391
                        district_name:
                          type: string
                          minLength: 1
                          example: Ahmednagar
                        district_name_l:
                          type: string
                          minLength: 1
                          example: ""
                          description: District name in preferred language as specified in Accept-Language header parameter.
                      required:
                        - district_id
                        - district_name
                  ttl:
                    type: number
                    description: Time in hours to cache the data. Client applications can use this data for this many number of hours before calling this API again.
            examples: {}

        '401':
          description: Unauthenticated access!
        '500':
          description: Internal Server Error

  /v2/registration/beneficiary/new:
    post:
      tags:
        - Beneficiary Registration APIs
      summary: Beneficiary Registration API
      description: API for beneficiary registration from partner applications. This API returns a beneficiary reference id as a unique identifier of the registered user.

      operationId: Beneficiary Registration for Partner Applications
      security:
        - BearerAuth: []

      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                  example: Apparao
                birth_year:
                  type: string
                  minLength: 1
                  description: Year of birth in YYYY format
                  example: "1980"
                gender_id:
                  type: number
                  minLength: 1
                  example: 1
                photo_id_type:
                  type: number
                  example: 1
                photo_id_number:
                  type: string
                  example: "9999"
                  minLength: 4
                  description: Last 4 digits of photo id number
                comorbidity_ind:
                  description: Comorbidity indicator. Default value is N.
                  type: string
                  example: Y
                  enum:
                    - Y
                    - N
                consent_version:
                  type: string
                  example: "1"
              required:
                - name
                - birth_year
                - gender
                - mobile_number
                - photo_id_type
                - photo_id_number
                - consent_version
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  beneficiary_reference_id:
                    type: string
                    maxLength: 14
                    example: "1234567890123"
                    description: A unique id for the beneficiary
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '409':
          description: Already registered or cannot register more than 4 individuals with one mobile number.
        '500':
          description: Internal Server Error

  /v2/registration/beneficiary/delete:
    post:
      tags:
        - Beneficiary Registration APIs
      summary: Delete a beneficiary
      description: API to delete a beneficiary by benefiary reference id.
      operationId: deleteBeneficiary
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                beneficiary_reference_id:
                  type: string
                  example: "1234567890123"
      responses:
        '204':
          description: The beneficiary was deleted successfully.
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '409':
          description: Individual cannot be deleted if he/she has an active appointment or is already vaccinated.
        '500':
          description: Internal Server Error

  /v2/appointment/centers/findByLatLong:
    get:
      tags:
        - Metadata APIs
      summary: Get vaccination centers by latitude and longitude
      description: API to get vaccination centers by latitude and longitude.
      operationId: findByLatLong
      parameters:
        - in: header
          name: Accept-Language
          required: false
          example: hi_IN
          schema:
            type: string
          description: The locate code of the preferred language such as en_US. The text data will be returned in the preferred language along with default English text.
        - name: lat
          in: query
          required: true
          schema:
            type: number
            format: float
            minimum: 8.06
            maximum: 37.10
            example: 28.70
        - name: long
          in: query
          required: true
          schema:
            type: number
            format: float
            minimum: 68.11
            maximum: 97.41
            example: 77.10
      security:
        - BearerAuth: []

      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                properties:
                  centers:
                    $ref: '#/components/schemas/CentersSchema'
                  ttl:
                    type: number
                    description: Time in hours to cache the data. Client applications can use this data for this many number of hours before calling this API again.

        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '500':
          description: Internal Server Error

  /v2/appointment/sessions/findByPin:
    get:
      tags:
        - Vaccination Appointment APIs
      summary: Get vaccination sessions by PIN
      description: API to get planned vaccination sessions on a specific date in a given pin. An optional parameter <i>vaccine</i> can also used to get the sessions for a specific vaccine. This paramters is used to to get the sessions for dose 2 appointment.
      operationId: findByPin
      parameters:
        - in: header
          name: Accept-Language
          required: false
          example: hi_IN
          description: The locate code of the preferred language such as en_US. The text data will be returned in the preferred language along with default English text.
          schema:
            type: string
        - name: pincode
          in: query
          required: true
          schema:
            type: string
            minLength: 3
            example: "110001"
        - name: date
          in: query
          required: true
          schema:
            type: string
            example: "31-03-2021"
        - name: vaccine
          in: query
          description: This is an optional parameter to get the sessions for a specific vaccine.
          schema:
            type: string
            enum:
              - COVISHIELD
              - COVAXIN
            example: "COVISHIELD"
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                properties:
                  sessions:
                    $ref: '#/components/schemas/SessionsSchema'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '500':
          description: Internal Server Error

  /v2/appointment/sessions/findByDistrict:
    get:
      tags:
        - Vaccination Appointment APIs
      summary: Get vaccination sessions by district
      description: API to get planned vaccination sessions on a specific date in a given district. An optional parameter <i>vaccine</i> can also used to get the sessions for a specific vaccine. This paramters is used to to get the sessions for dose 2 appointment.
      operationId: findByDistrict
      parameters:
        - in: header
          name: Accept-Language
          required: false
          example: hi_IN
          description: The locate code of the preferred language such as en_US. The text data will be returned in the preferred language along with default English text.
          schema:
            type: string
        - name: district_id
          in: query
          required: true
          schema:
            type: string
            minLength: 3
            example: "512"
        - name: date
          in: query
          required: true
          schema:
            type: string
            example: "31-03-2021"
        - name: vaccine
          in: query
          description: This is an optional parameter to get the sessions for a specific vaccine.
          schema:
            type: string
            enum:
              - COVISHIELD
              - COVAXIN
            example: "COVISHIELD"
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                properties:
                  sessions:
                    $ref: '#/components/schemas/SessionsSchema'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '500':
          description: Internal Server Error

  /v2/appointment/sessions/calendarByPin:
    get:
      tags:
        - Vaccination Appointment APIs
      summary: Get vaccination sessions by PIN for 7 days
      description: API to get planned vaccination sessions for 7 days from a specific date in a given pin. An optional parameter <i>vaccine</i> can also used to get the sessions for a specific vaccine. This paramters is used to to get the sessions for dose 2 appointment.
      operationId: calendarByPin
      parameters:
        - in: header
          name: Accept-Language
          required: false
          example: hi_IN
          description: The locate code of the preferred language such as en_US. The text data will be returned in the preferred language along with default English text.
          schema:
            type: string
        - name: pincode
          in: query
          required: true
          schema:
            type: string
            minLength: 3
            example: "110001"
        - name: date
          in: query
          required: true
          schema:
            type: string
            example: "31-03-2021"
        - name: vaccine
          in: query
          description: This is an optional parameter to get the sessions for a specific vaccine.
          schema:
            type: string
            enum:
              - COVISHIELD
              - COVAXIN
            example: "COVISHIELD"
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                properties:
                  centers:
                    $ref: '#/components/schemas/SessionCalendarEntriesSchema'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '500':
          description: Internal Server Error

  /v2/appointment/sessions/calendarByDistrict:
    get:
      tags:
        - Vaccination Appointment APIs
      summary: Get vaccination sessions by district for 7 days
      description: API to get planned vaccination sessions for 7 days from a specific date in a given district. An optional parameter <i>vaccine</i> can also used to get the sessions for a specific vaccine. This paramters is used to to get the sessions for dose 2 appointment.
      operationId: calendarByDistrict
      parameters:
        - in: header
          name: Accept-Language
          required: false
          example: hi_IN
          description: The locate code of the preferred language such as en_US. The text data will be returned in the preferred language along with default English text.
          schema:
            type: string
        - name: district_id
          in: query
          required: true
          schema:
            type: string
            minLength: 3
            example: "512"
        - name: date
          in: query
          required: true
          schema:
            type: string
            example: "31-03-2021"
        - name: vaccine
          in: query
          description: This is an optional parameter to get the sessions for a specific vaccine.
          schema:
            type: string
            enum:
              - COVISHIELD
              - COVAXIN
            example: "COVISHIELD"
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                properties:
                  centers:
                    $ref: '#/components/schemas/SessionCalendarEntriesSchema'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '500':
          description: Internal Server Error

  /v2/appointment/beneficiaries:
    get:
      tags:
        - Vaccination Appointment APIs
      summary: Get the list of benefiaries linked to the logged in/authenticated  mobile number
      description: API to get the list of benefiaries linked to the logged in/authenticated mobile number. This list can be useful to schedule one appointment for an entire family.
      operationId: beneficiaries
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                properties:
                  beneficiaries:
                    $ref: '#/components/schemas/BeneficiariesSchema'
                required:
                  - beneficiaries
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '500':
          description: Internal Server Error

  /v2/appointment/schedule:
    post:
      tags:
        - Vaccination Appointment APIs
      summary: Create an appointment for vaccination
      description: API to schedule an appointment for vaccination. An appointment can be scheduled for a selected center, on a selected date and for a selected session. An appointment can be scheduled for multiple beneficiaries provided their registered mobile number is same as the registered mobile number of the logged in or authenticated beneficiary.
      operationId: schedule
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                dose:
                  type: number
                  minLength: 1
                  example: 1
                session_id:
                  type: string
                  format: uuid
                slot:
                  type: string
                  example: 'FORENOON'
                beneficiaries:
                  type: array
                  uniqueItems: true
                  minItems: 1
                  description: Array of beneficiary reference ids
                  example: ["1234567890123", "9876543210987"]
                  items:
                    type: string
                    maxLength: 14
                    description: Beneficiary reference ids
              required:
                - session_id
                - slot
                - beneficiaries
      responses:
        '200':
          description: Appointment scheduled successfully.
          content:
            application/json:
              schema:
                properties:
                  appointment_id:
                    type: string
                    format: uuid
                required:
                  - appointment_id
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '409':
          description: This vaccination center is completely booked for the selected date.
        '500':
          description: Internal Server Error

  /v2/appointment/reschedule:
    post:
      tags:
        - Vaccination Appointment APIs
      summary: Reschedule vaccination appointment
      description: API to reschedule an appointment for vaccination.
      operationId: rescheduleAppointment
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                appointment_id:
                  type: string
                  format: uuid
                session_id:
                  type: string
                  format: uuid
                slot:
                  type: string
                  example: 'FORENOON'
              required:
                - appointment_id
                - session_id
                - slot
      responses:
        '204':
          description: Appointment scheduled successfully.
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '409':
          description: This vaccination center is completely booked for the selected date.
        '500':
          description: Internal Server Error

  /v2/appointment/cancel:
    post:
      tags:
        - Vaccination Appointment APIs
      summary: Cancel vaccination appointment for individuals
      description: API to remove an individual from an appointment.
      operationId: cancelAppointment
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                appointment_id:
                  type: string
                  format: uuid
                beneficiariesToCancel:
                  type: array
                  uniqueItems: true
                  minItems: 1
                  description: Array of beneficiary reference ids whose appointment needs to be canceled. If an empty array is passed, the appointment will be canceled for all individuals.
                  example: ["1234567890123", "9876543210987"]
                  items:
                    type: string
                    minLength: 1
                    description: Beneficiary reference ids
              required:
                - appointment_id
                - beneficiaries
      responses:
        '204':
          description: Appointment cancelled successfully.
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '409':
          description: This appointment cannot be cancelled.
        '500':
          description: Internal Server Error

  /v2/registration/certificate/download:
    get:
      tags:
        - Certificate APIs
      summary: Download vaccination certificate in PDF format by beneficiary reference id
      description: API to download vaccination certificate in PDF format by beneficiary reference id.
      operationId: download
      parameters:
        - name: beneficiary_reference_id
          in: query
          required: true
          schema:
            type: string
            example: 1234567890123
      security:
        - BearerAuth: []

      responses:
        '200':
          description: Successful Operation
          content:
            application/pdf:
              schema:
                type: string
                format: binary
                example: Binary content of PDF file
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '500':
          description: Internal Server Error

  /v2/appointment/appointmentslip/download:
    get:
      tags:
        - Certificate APIs
      summary: Download vaccination appointment slip in PDF format by  appointment id.
      description: API to download vaccination appointment slip in PDF format by appointment id.
      operationId: downloadAppointmentSlip
      parameters:
        - name: appointment_id
          in: query
          required: true
          schema:
            type: string
            format: uuid
            example: "5yq85f64-5717-5426-a7be-3j963f34awr4"
      security:
        - BearerAuth: []

      responses:
        '200':
          description: Successful Operation
          content:
            application/pdf:
              schema:
                type: string
                format: binary
                example: Binary content of PDF file
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  errorCode:
                    type: string
                    example: USRRES0001
                  error:
                    type: string
                    example: Input parameter missing
        '401':
          description: Unauthenticated Access
        '500':
          description: Internal Server Error

components:
  schemas:
    BeneficiariesSchema:
      type: array
      uniqueItems: true
      items:
        $ref: '#/components/schemas/BenefeiciaryResponseSchema'
    BenefeiciaryResponseSchema:
      type: object
      properties:
        beneficiary_reference_id:
          type: string
          maxLength: 14
          example: "1234567890123"
        name:
          type: string
          minLength: 1
          example: Rajesh Pawar
        birth_year:
          type: string
          minLength: 1
          example: "1995"
        gender:
          type: string
          minLength: 1
          example: Male
        mobile_number:
          type: string
          example: "******1403"
        photo_id_type:
          type: string
          example: "Driving License"
        photo_id_number:
          type: string
          example: "********9999"
          minLength: 1
        comorbidity_ind:
          description: Comorbidity indicator
          type: string
          example: Y
          enum:
            - Y
            - N
        vaccination_status:
          type: string
          enum:
            - Not Vaccinated
            - Partially Vaccinated
            - Vaccinated
          example: "Not Vaccinated"
        vaccine:
          type: string
          enum:
            - COVISHIELD
            - COVAXIN
          example: "COVISHIELD"
        dose1_date:
          type: string
          example: "01-03-2021"
        dose2_date:
          type: string
          example: "29-03-2021"
        appointments:
          $ref: '#/components/schemas/AppointmentsSchema'
      required:
        - beneficiary_reference_id
        - name
        - birth_year
        - gender
        - mobile_number
        - photo_id_type
        - photo_id_number
        - flw_hw_ind
        - comorbidity_ind

    CentersSchema:
      type: array
      uniqueItems: true
      items:
        $ref: '#/components/schemas/CenterResponseSchema'

    CenterResponseSchema:
      type: object
      required:
        - center_id
        - name
        - state_name
        - district_name
        - block_name
        - pincode
        - from
        - to
        - fee_type
      properties:
        center_id:
          type: number
          minLength: 1
          example: 1234
        name:
          type: string
          minLength: 1
          example: District General Hostpital
        name_l:
          type: string
          minLength: 1
          example: ""
          description: Name in preferred language as specified in Accept-Language header parameter.
        address:
          type: string
          minLength: 1
          example: 45 M G Road
        address_l:
          type: string
          minLength: 1
          example: ""
          description: Address line in preferred language as specified in Accept-Language header parameter.
        state_name:
          type: string
          example: Maharashtra
        state_name_l:
          type: string
          minLength: 1
          example: ""
          description: State name in preferred language as specified in Accept-Language header parameter.
        district_name:
          type: string
          example: Satara
        district_name_l:
          type: string
          minLength: 1
          example: ""
          description: District name in preferred language as specified in Accept-Language header parameter.
        block_name:
          type: string
          example: Jaoli
        block_name_l:
          type: string
          minLength: 1
          example: ""
          description: Block name in preferred language as specified in Accept-Language header parameter.
        pincode:
          type: string
          example: "413608"
        lat:
          type: number
          format: float
          minimum: 8.06
          maximum: 37.10
          example: 28.70
        long:
          type: number
          format: float
          minimum: 68.11
          maximum: 97.41
          example: 77.10
        from:
          type: string
          format: partial-time
          example: "09:00:00"
        to:
          type: string
          format: partial-time
          example: "18:00:00"
        fee_type:
          type: string
          enum:
            - Free
            - Paid
          example: Paid
          description: Fee charged for vaccination

    SessionsSchema:
      type: array
      uniqueItems: true
      items:
        $ref: '#/components/schemas/SessionResponseSchema'

    SessionResponseSchema:
      allOf:
        - $ref: '#/components/schemas/CenterResponseSchema'
        - type: object
          properties:
            fee:
              type: string
              example: "250"
            session_id:
              type: string
              format: uuid
              minLength: 1
            date:
              type: string
              minLength: 1
              example: "31-05-2021"
            available_capacity:
              type: number
              example: 50
            min_age_limit:
              type: number
              example: 18
            vaccine:
              type: string
              example: "COVISHIELD"
            slots:
              type: array
              uniqueItems: true
              minItems: 1
              description: Array of slot names
              example: [FORENOON, AFTERNOON]
              items:
                type: string
          required:
            - center_id
            - name
            - state_name
            - district_name
            - block_name
            - pincode
            - from
            - to
            - fee_type
            - fee
            - session_id
            - date
            - available_capacity
            - min_age_limit
            - vaccine
            - slots

    SessionCalendarEntriesSchema:
      type: array
      uniqueItems: true
      items:
        $ref: '#/components/schemas/SessionCalendarEntrySchema'

    SessionCalendarEntrySchema:
      type: object
      required:
        - center_id
        - name
        - state_name
        - district_name
        - block_name
        - pincode
        - from
        - to
        - fee_type
        - sessions
      properties:
        center_id:
          type: number
          minLength: 1
          example: 1234
        name:
          type: string
          minLength: 1
          example: District General Hostpital
        name_l:
          type: string
          minLength: 1
          example: ""
          description: Name in preferred language as specified in Accept-Language header parameter.
        address:
          type: string
          minLength: 1
          example: 45 M G Road
        address_l:
          type: string
          minLength: 1
          example: ""
          description: Address line in preferred language as specified in Accept-Language header parameter.
        state_name:
          type: string
          example: Maharashtra
        state_name_l:
          type: string
          minLength: 1
          example: ""
          description: State name in preferred language as specified in Accept-Language header parameter.
        district_name:
          type: string
          example: Satara
        district_name_l:
          type: string
          minLength: 1
          example: ""
          description: District name in preferred language as specified in Accept-Language header parameter.
        block_name:
          type: string
          example: Jaoli
        block_name_l:
          type: string
          minLength: 1
          example: ""
          description: Block name in preferred language as specified in Accept-Language header parameter.
        pincode:
          type: string
          example: "413608"
        lat:
          type: number
          format: float
          minimum: 8.06
          maximum: 37.10
          example: 28.70
        long:
          type: number
          format: float
          minimum: 68.11
          maximum: 97.41
          example: 77.10
        from:
          type: string
          format: partial-time
          example: "09:00:00"
        to:
          type: string
          format: partial-time
          example: "18:00:00"
        fee_type:
          type: string
          enum:
            - Free
            - Paid
          example: Free
          description: Fee charged for vaccination
        vaccine_fees:
          $ref: '#/components/schemas/VaccineFeeListSchema'
        sessions:
          type: array
          items:
            type: object
            properties:
              session_id:
                type: string
                format: uuid
                minLength: 1
              date:
                type: string
                minLength: 1
                example: "31-05-2021"
              available_capacity:
                type: number
                example: 50
              min_age_limit:
                type: number
                example: 18
              vaccine:
                type: string
                example: "COVISHIELD"
              slots:
                type: array
                uniqueItems: true
                minItems: 1
                description: Array of slot names
                example: [FORENOON, AFTERNOON]
                items:
                  type: string
            required:
              - from
              - to
              - fee_type
              - session_id
              - date
              - available_capacity
              - fee
              - min_age_limit
              - vaccine
              - slots

    AppointmentsSchema:
      type: array
      uniqueItems: true
      description: List of vaccines administered at a vaccine center along with their prices.
      items:
        $ref: '#/components/schemas/AppointmentResponseSchema'

    AppointmentResponseSchema:
      allOf:
        - $ref: '#/components/schemas/CenterResponseSchema'
        - type: object
          properties:
            dose:
              type: number
              minLength: 1
              example: 1
            appointment_id:
              type: string
              format: uuid
            session_id:
              type: string
              format: uuid
              minLength: 1
            date:
              type: string
              minLength: 1
              example: "01-03-2021"
            slot:
              type: string
              example: 'FORENOON'
          required:
            - dose
            - center_id
            - name
            - state_name
            - district_name
            - block_name
            - pincode
            - from
            - to
            - fee_type
            - appointment_id
            - session_id
            - date
            - slot

    VaccineFeeListSchema:
      type: array
      uniqueItems: true
      items:
        $ref: '#/components/schemas/VaccineFeeSchema'

    VaccineFeeSchema:
      type: object
      required:
        - vaccine
        - fee
      properties:
        vaccine:
          type: string
          example: "COVISHIELD"
        fee:
          type: string
          example: "250"

  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
    ApiKey:
      type: apiKey
      in: header
      name: x-api-key
      description: You can use <b>3sjOr2rmM52GzhpMHjDEE1kpQeRxwFDr4YcBEimi</b> as the API Key for testing the APIs on the Test Server.

